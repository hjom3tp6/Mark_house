<script>
  import liff from "@line/liff";
  import { fade } from "svelte/transition";
  import Pic from "./component/Pic.svelte"

  let isInClient = false;
  let liffInit = initLiff();

  async function initLiff() {
    await liff
      .init({
        liffId: "1654061887-ZoYpPWL2",
      })
      .then(() => {
        // start to use LIFF's api
        displayLiffData();
      })
      .catch((err) => {
        window.alert("請檢察網路連線問題");
      });
  }
  //   onMount(initLiff());
  /**
   * Display data generated by invoking LIFF methods
   */
  function displayLiffData() {
    isInClient = liff.isInClient();
  }

</script>

<style>
 
</style>

{#await liffInit}
  <h1>...wait</h1>
{:then}
  {#if !isInClient}
    <h1>請移至line中開啟</h1>
  {:else}
	<Pic/>
  {/if}
{:catch error}
  <p>{error.message}</p>
{/await}
